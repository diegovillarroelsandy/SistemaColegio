{% extends "estudiantes/base.html" %}
{% block role %} Estudiante {% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="mb-3">Juegos Educativos</h2>
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div class="d-flex align-items-center">
                    <i class="fas fa-gamepad text-primary me-2"></i>
                    <span>Filtro:</span>
                    <select class="form-select ms-2" style="width: 200px;" id="filtroMaterias">
                        <option value="all">Todos los juegos</option>
                        {% for materia in materias %}
                        <option value="{{ materia.lower() }}">{{ materia }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>

                <!-- Juego 6 -->
                <div class="game-card">
                    <img src="https://picsum.photos/seed/game6/300/150.jpg" alt="Historia Viva" class="game-image">
                    <div class="game-info">
                        <h3 class="game-title">Historia Viva</h3>
                        <p class="game-description">Viaja a través del tiempo y aprende sobre las épocas más importantes de la historia.</p>
                        <button class="play-button" onclick="playGame('Historia Viva')">Jugar</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Notificación -->
    <div class="notification" id="notification"></div>

    <script>
        // Función para volver a la página anterior
        function goBack() {
            window.history.back();
        }

        // Función para mostrar notificación al jugar
        function playGame(gameName) {
            const notification = document.getElementById('notification');
            notification.textContent = `Iniciando ${gameName}...`;
            notification.style.display = 'block';

            // Ocultar notificación después de 3 segundos
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // Función para alternar entre temas claro y oscuro
        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            
            // Guardar la preferencia del usuario en localStorage
            if (document.body.classList.contains('dark-theme')) {
                localStorage.setItem('theme', 'dark');
            } else {
                localStorage.setItem('theme', 'light');
            }
        }

        // Al cargar la página, verificar si el usuario tenía una preferencia de tema
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
            }
        });
    </script>
</div>
{% endblock %}